<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Standard Notes Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Standard Notes Documentation Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Standard Notes Documentation" href="/opensearch.xml">
<link rel="stylesheet" href="/katex/v0.12.0/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<script src="/matomo.js" async defer="defer"></script><title data-react-helmet="true">Actions | Standard Notes Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Actions | Standard Notes Documentation"><meta data-react-helmet="true" name="description" content="How to build Action components for Standard Notes."><meta data-react-helmet="true" property="og:description" content="How to build Action components for Standard Notes."><meta data-react-helmet="true" name="keywords" content="standard notes,docs,notes app,end-to-end encryption,build an extension,actions"><meta data-react-helmet="true" property="og:image" content="https://docs.standardnotes.org/img/logo.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.standardnotes.org/img/logo.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Actions"><meta data-react-helmet="true" property="og:url" content="https://docs.standardnotes.org/extensions/actions"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://docs.standardnotes.org/extensions/actions"><link rel="stylesheet" href="/styles.ef58e168.css">
<link rel="stylesheet" href="/main.a70d416a.css">
<link rel="preload" href="/styles.f3353c29.js" as="script">
<link rel="preload" href="/runtime~main.cfcef000.js" as="script">
<link rel="preload" href="/main.4fbd0b91.js" as="script">
<link rel="preload" href="/1.f786a897.js" as="script">
<link rel="preload" href="/85.c42d0e7f.js" as="script">
<link rel="preload" href="/89.f32036f2.js" as="script">
<link rel="preload" href="/935f2afb.6b1e2732.js" as="script">
<link rel="preload" href="/84.3088d7e3.js" as="script">
<link rel="preload" href="/9c4c575a.880cef89.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_17Wu navbarHidden_19ww"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Standard Notes Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Standard Notes Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Standard Notes</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">Usage</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/usage/">General</a></li><li><a class="dropdown__link" position="right" href="/usage/what-are-editors/">Editors</a></li><li><a class="dropdown__link" position="left" href="/usage/folders/">Folders</a></li><li><a class="dropdown__link" position="left" href="/usage/tags/">Tags</a></li><li><a class="dropdown__link" position="left" href="/usage/backups/">Backups</a></li><li><a class="dropdown__link" position="left" href="/usage/filesafe/">FileSafe</a></li><li><a class="dropdown__link" position="left" href="/usage/2fa/">Two-factor Auth</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">Listed</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/listed/about/">About</a></li><li><a class="dropdown__link" position="left" href="/listed/register/">Register</a></li><li><a class="dropdown__link" position="left" href="/listed/publishing/">Publish</a></li><li><a class="dropdown__link" position="left" href="/listed/settings/">Settings</a></li><li><a class="dropdown__link" position="left" href="/listed/subscribers/">Subscribers</a></li><li><a class="dropdown__link" position="left" href="/listed/guestbook/">Guestbook</a></li><li><a class="dropdown__link" position="left" href="/listed/styles/">Customize Styles</a></li><li><a class="dropdown__link" position="left" href="/listed/options/">Per-post Options</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">Self-Hosting</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/self-hosting/getting-started/">Getting Started</a></li><li><a class="dropdown__link" position="left" href="/self-hosting/docker/">Docker</a></li><li><a class="dropdown__link" position="left" href="/self-hosting/managing-options/">Managing Options</a></li><li><a class="dropdown__link" position="left" href="/self-hosting/https-support/">HTTPS Support</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://standardnotes.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Website</a><a href="https://standardnotes.org/help" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Help</a><a href="https://blog.standardnotes.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://github.com/standardnotes/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://github.com/sn-extensions/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Extensions</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><div class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Standard Notes Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Standard Notes Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Standard Notes</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">Usage</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/usage/">General</a></li><li class="menu__list-item"><a class="menu__link" position="right" href="/usage/what-are-editors/">Editors</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/usage/folders/">Folders</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/usage/tags/">Tags</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/usage/backups/">Backups</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/usage/filesafe/">FileSafe</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/usage/2fa/">Two-factor Auth</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">Listed</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/listed/about/">About</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/listed/register/">Register</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/listed/publishing/">Publish</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/listed/settings/">Settings</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/listed/subscribers/">Subscribers</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/listed/guestbook/">Guestbook</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/listed/styles/">Customize Styles</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/listed/options/">Per-post Options</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">Self-Hosting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/self-hosting/getting-started/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/self-hosting/docker/">Docker</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/self-hosting/managing-options/">Managing Options</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/self-hosting/https-support/">HTTPS Support</a></li></ul></li><li class="menu__list-item"><a href="https://standardnotes.org/" target="_blank" rel="noopener noreferrer" class="menu__link">Website</a></li><li class="menu__list-item"><a href="https://standardnotes.org/help" target="_blank" rel="noopener noreferrer" class="menu__link">Help</a></li><li class="menu__list-item"><a href="https://blog.standardnotes.org" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://github.com/standardnotes/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://github.com/sn-extensions/" target="_blank" rel="noopener noreferrer" class="menu__link">Extensions</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy sidebarWithHideableNavbar_CROi"><a tabindex="-1" class="sidebarLogo_xFc8" href="/"><img src="/img/logo.png" alt="Standard Notes Logo" class="themedImage_YANc themedImage--light_3CMI"><img src="/img/logo.png" alt="Standard Notes Logo" class="themedImage_YANc themedImage--dark_3ARp"><strong>Standard Notes</strong></a><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Standard Notes Docs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/">Welcome</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Usage</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/">General Usage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/install-extensions/">Install Extensions</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Mobile</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/mobile/">Mobile</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Editors</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/what-are-editors/">What are editors?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/bold-editor">Bold Editor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/markdown-basic">Markdown Basic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/markdown-math">Markdown Math</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/markdown-pro">Markdown Pro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/secure-spreadsheets">Secure Spreadsheets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/task-editor">Task Editor</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Folders and Tags</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/folders">Folders</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/tags">Smart Tags</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/autocomplete-tags">Autocomplete Tags</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Actions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/action-bar">Action Bar</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/github-push/">GitHub Push</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Data Care</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/backups/">Backups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/email-backups/">Email Backups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/cloud-backups/">Cloud Backups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/note-history/">Note History</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">FileSafe</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/filesafe/">FileSafe 101</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/filesafe/aws/">Amazon S3</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Two-factor Authentication</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/2fa/">How to enable 2FA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/2fa/store-secret-key/">Store 2FA secret keys</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/2fa/lost-secret-key/">Lost 2FA secret key</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Listed</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/listed/about">About Listed</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/listed/register">Register</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/listed/publishing">Publish articles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/listed/settings">Settings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/listed/subscribers">Email Subscribers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/listed/guestbook">Guest Book</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/listed/styles">Customize Styles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/listed/options">Per-Post Options</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Self-Hosting a Sync Server</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/self-hosting/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/self-hosting/docker">Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/self-hosting/heroku">Heroku</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/self-hosting/ec2-nginx">EC2 and Nginx</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/self-hosting/raspberry-pi">Raspberry Pi</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/self-hosting/managing-options">Managing options</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/self-hosting/https-support">Securing HTTP traffic of your Sync server</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Building Extensions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/extensions/intro">Intro to Extensions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/extensions/building-an-extension">Building an Extension</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Editors</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/extensions/editorkit">EditorKit</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/extensions/stylekit">StyleKit</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/extensions/local-setup">Local Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/extensions/themes">Themes</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/extensions/actions">Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/extensions/publishing">Publishing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Specification</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/specification/encryption/">Encryption v004</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/specification/encryption/003/">Encryption v003</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/specification/sync">Sync</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contribute</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/contribute">How to contribute</a></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_2WRA"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_CoMu"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Actions</h1></header><div class="markdown"><p>Actions are menu-based extensions that allow you to build simple APIs that do not require a user interface. Actions have the power to receive the working note and modify it. We use actions for our Note History extension, as well as Listed and File Attachments.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="building-an-action"></a>Building an Action<a class="hash-link" href="#building-an-action" title="Direct link to heading">#</a></h2><p>Building an action-based extension can be done through any backend system of your choosing. We use Rails to build the <a href="https://github.com/standardnotes/listed" target="_blank" rel="noopener noreferrer">Listed</a> extension, which allows you to create and manage a blogging publication from your notes.</p><p>In this example, we&#x27;ll recreate a simple clone of Listed.</p><ol><li><p>Generate a secret installation link for the user.</p><p>The secret installation link will contain a randomly generated secret key that authenticates the user to the server. The user need only copy the resulting link into Standard Notes, and it is then remembered automatically and sent to the server with every subsequent request.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-ruby codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">author = Author.new</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">secret =  Digest::SHA256.hexdigest(SecureRandom.hex)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">secret_url = CGI.escape(&quot;#{ENV[&#x27;HOST&#x27;]}/authors/#{author.id}/extension/?secret=#{secret}&amp;type=sn&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Display the <code>secret_url</code> to the user and instruct them to install the url in Standard Notes, via the Extensions menu in the lower left corner.</p></li><li><p>Whenever the user clicks on the &quot;Actions&quot; menu within Standard Notes, SN will make a GET request to the user&#x27;s secret URL. It is here that you return a JSON object that contains some metadata and applicable actions.</p><p>Here is what Listed handles the <code>extension</code> endpoint that is encoded in the user&#x27;s secret url:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-ruby codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">def extension</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  secret = params[:secret]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  item_uuid = params[:item_uuid]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name = &quot;Listed&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  supported_types = [&quot;Note&quot;]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  actions = []</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if item_uuid</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    actions += [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :label =&gt; &quot;Publish to Blog&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :url =&gt; &quot;#{ENV[&#x27;HOST&#x27;]}/authors/#{@author.id}/posts/?unlisted=false&amp;secret=#{secret}&amp;item_uuid=#{item_uuid}&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :verb =&gt; &quot;post&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :context =&gt; &quot;Item&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :content_types =&gt; [&quot;Note&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :access_type =&gt; &quot;decrypted&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :label =&gt; &quot;Open Blog&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :url =&gt; @author.username &amp;&amp; @author.username.length &gt; 0 ? @author.url : &quot;#{ENV[&#x27;HOST&#x27;]}/authors/#{@author.id}&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :verb =&gt; &quot;show&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :context =&gt; &quot;Item&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :content_types =&gt; [&quot;Note&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :access_type =&gt; &quot;decrypted&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :label =&gt; &quot;Publish to Private Link&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :url =&gt; &quot;#{ENV[&#x27;HOST&#x27;]}/authors/#{@author.id}/posts/?unlisted=true&amp;secret=#{secret}&amp;item_uuid=#{item_uuid}&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :verb =&gt; &quot;post&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :context =&gt; &quot;Item&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :content_types =&gt; [&quot;Note&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :access_type =&gt; &quot;decrypted&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  post = Post.find_by_item_uuid(item_uuid)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if post</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    actions.push(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :label =&gt; &quot;Open Private Link&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :url =&gt; &quot;#{ENV[&#x27;HOST&#x27;]}/#{post.token}&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :verb =&gt; &quot;show&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :context =&gt; &quot;Item&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :content_types =&gt; [&quot;Note&quot;]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    actions.push(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :label =&gt; &quot;Unpublish&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :url =&gt; &quot;#{ENV[&#x27;HOST&#x27;]}/authors/#{@author.id}/posts/#{post.id}/unpublish?secret=#{secret}&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :verb =&gt; &quot;post&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :context =&gt; &quot;Item&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :content_types =&gt; [&quot;Note&quot;]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  actions.push (</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :label =&gt; &quot;Settings&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :url =&gt; &quot;#{ENV[&#x27;HOST&#x27;]}/authors/#{@author.id}/settings?secret=#{secret}&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :verb =&gt; &quot;show&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :context =&gt; &quot;Item&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :content_types =&gt; [&quot;Note&quot;]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  description = &quot;Publishes to listed.to. Requires decrypted access to publishing note.&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  render :json =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :name =&gt; name,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :description =&gt; description,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :supported_types =&gt; supported_types,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :actions =&gt; actions,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :content_type =&gt; &quot;Extension&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :identifier =&gt; &quot;com.my.extension&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>When a user selects the action, your server should be ready to handle that endpoint, and in most cases expect an item. Here&#x27;s how Listed handles the &quot;Publish to Blog&quot; action:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-ruby codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">def create</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  item_uuid = params[:item_uuid]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  post = Post.find_by_item_uuid(item_uuid)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if post &amp;&amp; post.author != @author</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if !post</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    post = @author.posts.new(post_params)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    post.update(post_params)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  item = params[:items][0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  content = item[&quot;content&quot;]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  post.title = content[&quot;title&quot;]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  post.text = content[&quot;text&quot;]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  post.save</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="properties"></a>Properties<a class="hash-link" href="#properties" title="Direct link to heading">#</a></h3><p>Actions have the following properties:</p><table><thead><tr><th align="left">Key</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><strong><code>label</code></strong></td><td align="left">What the UI will display for this action.</td></tr><tr><td align="left"><strong><code>url</code></strong></td><td align="left">The URL that Standard Notes will make a request to when the user selects this action.</td></tr><tr><td align="left"><strong><code>verb</code></strong></td><td align="left">Instructs Standard Notes how to handle the URL. This can be one of:</td></tr><tr><td align="left"><strong><code>show</code></strong></td><td align="left">Standard Notes will open the <code>url</code> in a browser.</td></tr><tr><td align="left"><strong><code>post</code></strong></td><td align="left">Standard Notes will make a POST request to the <code>url</code> with the current item included in the parameters.</td></tr><tr><td align="left"><strong><code>get</code></strong></td><td align="left">Standard Notes will make a GET request to the <code>url</code> and expect an <code>Item</code> in response. The item will be used to update the current working note. We use this for our Note History extension to update the current note with a previous version of it.</td></tr><tr><td align="left"><strong><code>render</code></strong></td><td align="left">Standard Notes will make a <code>GET</code> request to the <code>url</code> and expect an <code>Item</code>, but instead of updating the item, it will preview it in a modal. This allows a user to preview the contents of an incoming item before choosing to replace the current note with whatever is retrieved from the server. We also use this in our Note History extension.</td></tr><tr><td align="left"><strong><code>context</code></strong></td><td align="left">Context should mostly be <code>Item</code>, which means that this action applies to a particular item, and is not just a general action. In the past, <code>context</code> could take on the value of <code>global</code>, which means it has actions available that are not related to an item. However, this functionality is unofficially deprecated, with an official deprecation coming soon.</td></tr><tr><td align="left"><strong><code>content_types</code></strong></td><td align="left">The kinds of items this action applies to. Currently only &#x27;Note&#x27; actions are supported. In the future, we might allow for actions on a <code>Tag</code> or other content types, but no such interface is currently available.</td></tr></tbody></table><p>For example, the expected response of a <strong><code>get</code></strong> action is:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;item&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;uuid&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;content_type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;content&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;created_at&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;updated_at&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The payload inside the <code>item</code> key is the same payload structure you would see if you downloaded an encrypted backup file from the Account menu and inspected the <code>.txt</code> file. The item needs to be in the encrypted format when it appears. We&#x27;ll need to modify the client code to also accept decrypted items.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="installing-an-action"></a>Installing an Action<a class="hash-link" href="#installing-an-action" title="Direct link to heading">#</a></h2><p>Actions have the following URL format:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">https://host.org/my-action?type=action&amp;name=MyAction</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="action-potential"></a>Action Potential<a class="hash-link" href="#action-potential" title="Direct link to heading">#</a></h2><p>There are a lot of cool things you can build with actions. For example, you can build an action that receives the current note which consists of a bunch of numbers separated by a comma, and the action can compute the average, and return the new note contents which appends the average. This is a simple use case, but can be enlarged to build more powerful abilities.</p><p>You might even build an action that for example receives JavaScript code in the note text, runs the JavaScript, computes the result, and returns the result which is then appended to the note body in creative ways. The possibilities are almost endless.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/standardnotes/docs/edit/main/docs/extensions/actions.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-09-10T19:14:51.000Z" class="docLastUpdatedAt_1Qna">9/10/2020</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/extensions/themes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Themes</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/extensions/publishing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Publishing Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#building-an-action" class="table-of-contents__link">Building an Action</a><ul><li><a href="#properties" class="table-of-contents__link">Properties</a></li></ul></li><li><a href="#installing-an-action" class="table-of-contents__link">Installing an Action</a></li><li><a href="#action-potential" class="table-of-contents__link">Action Potential</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/self-hosting/getting-started">Self-host a Sync Server</a></li><li class="footer__item"><a class="footer__link-item" href="/listed/about">Listed Blogging Platform</a></li><li class="footer__item"><a class="footer__link-item" href="/extensions/intro">Build an Extension</a></li><li class="footer__item"><a class="footer__link-item" href="/specification/encryption">Specifications</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://standardnotes.org/slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Join our Slack</a></li><li class="footer__item"><a href="https://forum.standardnotes.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Forum</a></li><li class="footer__item"><a href="https://listed.to" target="_blank" rel="noopener noreferrer" class="footer__link-item">Listed Blogging Platform</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Support</h4><ul class="footer__items"><li class="footer__item"><a href="https://standardnotes.org/help" target="_blank" rel="noopener noreferrer" class="footer__link-item">Help &amp; Contact</a></li><li class="footer__item"><a href="https://twitter.com/standardnotes" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://reddit.com/r/standardnotes" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 <a href="https://standardnotes.org">Standard Notes</a></div></div></div></footer></div>
<script src="/styles.f3353c29.js"></script>
<script src="/runtime~main.cfcef000.js"></script>
<script src="/main.4fbd0b91.js"></script>
<script src="/1.f786a897.js"></script>
<script src="/85.c42d0e7f.js"></script>
<script src="/89.f32036f2.js"></script>
<script src="/935f2afb.6b1e2732.js"></script>
<script src="/84.3088d7e3.js"></script>
<script src="/9c4c575a.880cef89.js"></script>
</body>
</html>